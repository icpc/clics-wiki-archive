== Introduction ==

DRAFT - Being edited!

This page describes a '''draft''' interface for controlling the contest start time in a CCS. It is initially intended to be used by the [[CDS|Contest Data Server]] to allow an admin to control the start of a contest, but is meant to be reusable for other clients as well.

Usage notes:
* The interface is implemented as an HTTP REST interface.
* Basic authentication and HTTPS are required. User id/password is provided by the CCS and should be the same as the [[source code fetching interface|Draft 2014 REST interface for source code fetching]]
* The specific base URL will be dependent on the server providing the service and will be indicated as <tt>baseurl</tt>.
* Absolute times are always in milliseconds since the Unix epoch: Jan 1, 1970 UTC.

== Interface specification ==

The URL for controlling the contest start time is always the same:
 <nowiki>https://baseurl/starttime</nowiki>

Changing the start time is always done via PUT, and options for a future GET interface are outlined below. The difference between the options is purely the payload and content type:

=== Interface (Option A) ===

PUT HTTP body is text/plain with one of:
* "absolute=x"
* "relative=y"
* "undefined"

==== Future GET ====

GET HTTP body returns application/json with:
* { "absolute":"1324246345", "remaining":"167" }
or:
* { "undefined":"" }

=== Interface (Option B) ===

PUT HTTP body is text/plain with either an absolute time or "undefined".

==== Future ====

GET HTTP body returns text/plain with either an absolute time or "undefined".

=== Interface (Option C) ===

PUT HTTP body is application/json:
* { "starttime":"<absolute value>" }
* { "starttime":"undefined" }

==== Future ====

GET HTTP body returns application/json:
* { "starttime":"1324246345" }
or:
* { "starttime":"undefined" }
