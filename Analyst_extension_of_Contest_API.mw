'''This is an early draft of extensions to the [[Contest API]] to support analyst data'''

Section names match those in [[Contest API]]. New sections (i.e. sections that do not appear in parent document) should simply be added. Existing but empty sections are only there for structure (i.e. to properly place a subsection). If edits are needed in an existing section there will be a comment within square brackets ([, ]) describing the changes needed.

== Interface specification ==

=== Types of endpoints ===

[ Add commentary-messages to Live data list ]

=== Commentary messages ===

Provides commentary on events in the current contest.

The following endpoints are associated with commentary:
{| class="wikitable"
|-
! Endpoint
! Mime-type
! Required?
! Source @WF
! Description
|-
| /contests/<id>/commentary-messages
| application/json
| no
| Analysts
| JSON array of all languages with elements as defined in the table below
|-
| /contests/<id>/commentary-messages/<id>
| application/json
| no
| Analysts
| JSON object of a single language with elements as defined in the table below
|}

JSON elements of language objects:
{| class="wikitable"
|-
! Name
! Type
! Required?
! Nullable?
! Source @WF
! Description
|-
| id
| ID
| yes
| no
| Analysts
| identifier of the message
|-
| team_id
| ID
| yes
| yes
| Analysts
| identifier of the [[Contest_API#Teams | team]] message is related to
|-
| problem_id
| ID
| yes
| yes
| Analysts
| identifier of the [[Contest_API#Problems | problem]] message is related to
|-
| submission_id
| ID
| yes
| yes
| Analysts
| identifier of the [[Contest_API#Submissions | submission]] message is related to
|-
| priority
| ORDINAL
| yes
| no
| Analysts
| priority of the message. Lower values are higher priority
|-
| text
| string
| yes
| no
| Analysts
| plain text message
|-
| time
| TIME
| yes
| no
| Analysts
| time of when commentary was made
|-
| contest_time
| RELTIME
| yes
| no
| Analysts
| contest time of when commentary was made
|}

==== Access restrictions at WF ====

No access restrictions apply to a GET on this endpoint.

=== Event Feed ===

==== Feed format ====

[ As [[Contest_API#Event_feed | parent document]] but add this entry to API endpoint table ]

{| class="wikitable"
|-
! Event
! API Endpoint
|-
| commentary-messages
| /contests/<id>/commentary-messages/<id>
|}
