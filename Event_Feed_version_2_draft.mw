The event feed is a set of data output by the [[CCS|Contest Control System]].

== Getting the feed ==

===Authentication===

:'''Comment:''' Add a description of the login/password for this feed [[User:Douglas Lane|Douglas Lane]] 17:14, 20 February 2011 (CET)

:'''Comment:''' Add a description of return data if authentication fails [[User:Douglas Lane|Douglas Lane]] 17:14, 20 February 2011 (CET)

===Accessing the feed===

Connect to port 4713 and the entire feed for the contest will be sent to you. When the contest is finalized, the contest tag will be closed and the connection closed.

Connect to port 4714 and the entire feed for the contest will be sent to you, with the exception that no judgement information will be sent for runs submitted during the last hour. When the contest is finalized, the contest tag will be closed and the connection closed (but you will still not get judgements for runs submitted the last hour).

:'''Comment:''' Should the cutoff time (1 hour) be configurable?  [[User:Douglas Lane|Douglas Lane]] 02:09, 5 February 2011 (CET)

:'''Comment:''' Should a (filter) request be made to the CCS about which filtered event feed rather than using a different port number? [[User:Douglas Lane|Douglas Lane]] 02:09, 5 February 2011 (CET)

== File format ==
The event feed is an XML document within the root element <tt><contest></tt>.

All events are separate elements at the top level.

{| class="wikitable"
|+ Event types/tags
! Name !! Contains
|-
|info|| contest information and updates
|-
|language|| submission language information
|-
|region|| super region information
|-
|judgement|| judgement information
|-
|problem|| problem information
|-
|team|| team information
|-
|clar|| submitted clarification information and updates
|-
|run|| submitted run information and updates
|-
|testcase|| judgement of individual test cases for a run
|}

Most elements are identified by an id. 

Timestamped events all have a timestamp element in decimal seconds.

Submission events have a time element in decimal seconds relative to the contest start when it was submitted.

Events have time attributes identical to the timestamp element.

=== info ===

 <info>
   <title>The 2010 World Finals of the ACM International Collegiate Programming Contest</title>
   <length>05:00:00</length>
   <penalty>20</penalty>
   <started>false</started>
   <starttime>1265335138.26</starttime>
 </info>

;title: contest title string
;length: length of contest in HH:MM:SS format
;penalty: penalty time in minutes
;started: started flag
;starttime: starttime as a timestamp in decimal seconds

=== language ===

 <language>
   <name>C++</name>
 </language>

;name: language name

=== region ===

 <region external-id="3012">
   <name>Europe</name>
 </region>

;external-id: identifier (integer) from the ICPC CMS registration system
;name: super-region name

=== judgement ===

 <judgement>
   <acronym>CE</acronym>
   <name>Compile Error</name>
 </judgement>

;acronym: judgement acronym
;name: descriptive name

=== problem ===

 <problem id="1" state="enabled">
   <label>A</label>
   <name>APL Lives!</name>
   <balloon-color rgb="#ffff00">yellow</balloon-color>
 </problem>

;id: problem identifier
;state: one of enabled, paused, disabled
;label: one letter label
;name: descriptive name
;balloon-color: balloon color name
;rgb: balloon color rgb value

=== team ===

 <team id="1" external-id="23412">
   <name>American University of Beirut</name>
   <nationality>LBN</nationality>
   <university>American University of Beirut</university> 
   <region>Europe</region> 
 </team>

;id: team identifier. ranges from 1 to number of teams and must be the same as the team number
;external-id: team id from registration system 
;name: team name
;nationality: nationality as ISO 3166-1 alpha-3
;university: university affiliation
;region: super region name

=== clar ===

 <clar id="1" team-id="0" problem-id="1">
   <answer>The number of pieces will fit in a signed 32-bit integer.</answer>
   <question>What is the upper limit on the number of pieces of chocolate requested by the friends?</question>
   <to-all>true</to-all>
   <contest-time>118.48</contest-time>
   <timestamp>1265335256.74</timestamp>
 </clar>

;id: clarification identifier, increases with timestamp
;team-id: team ID
;problem-id: problem ID
;question:
;answer: 
;to-all: true if the clarification was sent to all teams
;contest-time:
;timestamp:

=== run ===

 <run id="1410" team-id="74" problem-id="4">
   <language>C++</language>
   <judgement>WA</judgement>
   <penalty>true</penalty>
   <contest-time>17960.74</contest-time>
   <timestamp>1265353100.29</timestamp>
 </run>

;id: run identifier, increases with timestamp
;team-id: team ID
;problem-id: problem ID
;language: language name
;judgement: judgement acronym
;penalty: penalty flag
;contest-time: official submission time used for scoring
;timestamp:

=== testcase ===

 <testcase run-id="1">
   &lt;i>1&lt;/i>
   <n>1</n>
   <judgement>WA</judgement>
   <contest-time>939.75</contest-time>
   <timestamp>1265336078.01</timestamp>
 </testcase>

;run-id:
;i: testcase number
;n: total number of testcases
;judgement: judgement acronym
;contest-time:
;timestamp:

=== finalized ===
 <finalized>
   <last-gold>4</last-gold>
   <last-silver>8</last-silver>
   <last-bronze>12</last-bronze>
   <comment>Finalized by John Doe and Jane Doe</comment>
   <timestamp>1265336078.01</timestamp>
 </finalized>

;timestamp:
;last-gold:integer, last place to receive a gold
;last-silver:integer, last place to receive a silver
;last-bronze:integer, last place to receive a bronze
;comment:text
