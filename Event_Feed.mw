The ''Event Feed'' is an externally-accessible XML feed of contest data supplied by a [[CCS|Contest Control System]]. The event feed is the primary way that 'external' clients can get the state of a running contest. 

== Getting the feed ==

Connect to port 4713 and the entire feed for the contest will be sent to you. When the contest is finalized, the contest tag will be closed and the connection closed.

Connect to port 4714 and the entire feed for the contest will be sent to you, with the exception that no judgement information will be sent for runs submitted during the last hour. When the contest is finalized, the contest tag will be closed and the connection closed (but you will still not get judgements for runs submitted the last hour).

== File format ==

The event feed is an XML document within the root element <tt><contest></tt>. 

Within the contest element are a number of configuration items and events, each of which are separate top-level elements:

Event types & tags:
{| class="wikitable"
! Element !! Contains !! Type
|-
|info|| contest information and updates || Configuration
|-
|language|| submission language information || Configuration
|-
|region|| superregion information || Configuration
|-
|judgement|| judgement information || Configuration
|-
|problem|| problem information || Configuration
|-
|team|| team information || Configuration
|-
|clar|| clarifications || Event
|-
|run|| submitted run and updates || Event
|-
|test|| judgement of individual input file for a run || Event
|-
|finalized|| the contest standings/medals are assigned, contest is over || Event
|-
|}

Other elements beyond what is documented here may also be sent, these should be ignored. This applies both at the top level and within the top-level elements.

Notes
# All child-elements are required unless otherwise documented.
# All contest-time elements are in decimal seconds.
# All timestamp elements are in decimal seconds since the Unix epoch, Jan 1st, 1970 00:00:00 UTC.

=== Configuration Elements ===

Configuration elements will generally be sent in the beginning of the feed. There are two exceptions.

* If the contest has already started events may be sent while there are still configuration elements remaining.
* If the data in a configuration element is changed it will be resent.

==== Info Element ====

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|title || Contest title || element || xsd:string
|-
|length || Length of contest in HH:MM:SS format || element || xsd:string
|-
|scoreboard-freeze-length || Length of time at the end of the contest when scoreboard is frozen in HH:MM:SS format || element || xsd:string
|-
|penalty|| Penalty time in minutes || element || xsd:int
|-
|start-time || Wall-clock start time of the contest || element || xsd:decimal timestamp
|}

Example:

 <info>
   <title>The 2010 World Finals of the ACM International Collegiate Programming Contest</title>
   <length>05:00:00</length>
   <scoreboard-freeze-length>01:00:00</scoreboard-freeze-length>
   <penalty>20</penalty>
   <start-time>1265335138.26</start-time>
 </info>

==== Language Element ====

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|name || Language name || element || xsd:string
|}

Example:

 <language>
   <name>C++</name>
 </language>

==== Region Element ====

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|external-id || Identifier (integer) from [[Contest_Control_System#groups.tsv|groups.tsv (Group ID)]] || element || xsd:int
|-
|name || Group name from [[Contest_Control_System#groups.tsv|groups.tsv]] || element || xsd:string
|}

Example:

 <region>
   <external-id>3012</external-id>
   <name>Europe</name>
 </region>

==== Judgement Element ====

Format:

{| class="wikitable"
! Name !! Description !! Child element/attribute !! Type
|-
|acronym || Judgement acronym || element || xsd:string
|-
|name || Judgement name || element || xsd:string
|-
|penalty || True if this judgement is a failure that causes penalty time || element || xsd:boolean
|}

Example:

 <judgement>
   <acronym>WA</acronym>
   <name>Wrong Answer</name>
   <penalty>true</penalty>
 </judgement>

==== Problem Element ====

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|id || Problem ID || element || xsd:int
|-
|name || Problem name || element || xsd:string
|}

Example:

 <problem>
   <id>1</id>
   <name>APL Lives!</name>
 </problem>

==== Team Element ====

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|id || Team ID from [[Contest_Control_System#teams.tsv|teams.tsv (Team Number)]] || attribute|| xsd:int
|-
|external-id || External team id from [[Contest_Control_System#teams.tsv|teams.tsv (External ID) || attribute || xsd:int
|-
|name || Team name from [[Contest_Control_System#teams.tsv|teams.tsv]] || element || xsd:string
|-
|nationality || Country code, ISO 3166-1 alpha-3, from [[Contest_Control_System#teams.tsv|teams.tsv]] || element || xsd:string
|-
|university || University name from [[Contest_Control_System#teams.tsv|teams.tsv]] || element || xsd:string
|-
|region || Super region name [[Contest_Control_System#groups.tsv | groups.tsv]] from [[Contest_Control_System#teams.tsv|teams.tsv]] || element || xsd:string
|}

Example:

 <team>
   <id>1</id>
   <external-id>23412</external-id>
   <name>American University of Beirut</name>
   <nationality>LBN</nationality>
   <university>American University of Beirut</university> 
   <region>Europe</region> 
 </team>

=== Event Elements ===

==== Clarification Request Event ====

The clar-request event is sent when a team submits a clarification request.

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|id || Clarification Request ID || attribute || xsd:int
|-
|team-id || Team ID || attribute || xsd:int
|-
|question || A question, typically from a team || element || xsd:string
|-
|category || Clarification category || element || xsd:string
|-
|contest-time || Contest (elapsed) time when the clarification was submitted || element || xsd:decimal
|-
|timestamp || Wall-clock time when the clarification was submitted || element || xsd:decimal
|}

Example:

 <clar-request id="1" team-id="0">
   <question>What is the upper limit on the number of pieces of chocolate requested by the friends?</question>
   <category>Problem C</category>
   <contest-time>118.48</contest-time>
   <timestamp>1265335256.74</timestamp>
 </clar-request>

==== Clarification Response Event ====

The clar response event is sent when a clar request has been answered.

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|clar-request-id || Clarification Request ID || attribute || xsd:int
|-
|answer || Judge's answer to the question || element || xsd:string
|-
|to-all || True if the response was sent to all teams || element || xsd:boolean
|-
|contest-time || Contest (elapsed) time when the response was submitted || element || xsd:decimal
|-
|timestamp || Wall-clock time when the response was submitted || element || xsd:decimal
|}

Example:

 <clar-response clar-request-id="1">
   <answer>The number of pieces will fit in a signed 32-bit integer.</answer>
   <to-all>true</to-all>
   <contest-time>118.48</contest-time>
   <timestamp>1265335256.74</timestamp>
 </clar-response>

==== Submission Event ====

An event sent whenever a team makes a submission.

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|id || Submission ID || element || xsd:int
|-
|team-id || Team ID || element || xsd:int
|-
|problem-id || Problem ID || element || xsd:int
|-
|language || Language name || element || xsd:string
|-
|contest-time || Contest (elapsed) time when the run was submitted || element || xsd:decimal
|-
|timestamp || Wall-clock time when the run was submitted || element || xsd:decimal
|}

Example:

 <submission>
   <id>1410</id>
   <team-id>74</team-id>
   <problem-id>4</problem-id>
   <language>C++</language>
   <contest-time>17960.74</contest-time>
   <timestamp>1265353100.29</timestamp>
 </submission>

==== Submission Judgement Event ====

A run judgement event is sent whenever a judgement has been assigned to a run.

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|submission-id || Submission ID || element || xsd:int
|-
|judgement|| Judgement acronym || element || xsd:string
|-
|contest-time || Contest (elapsed) time when the judgement was assigned || element || xsd:decimal
|-
|timestamp || Wall-clock time when the judgement was assigned || element || xsd:decimal
|}

Example:

 <submission-judgement>
   <run-id>1410</run-id>
   <judgement>WA</judgement>
   <contest-time>179.74</contest-time>
   <timestamp>1265353100.29</timestamp>
 </submission-judgement>

==== Run Event ====

 <run>
 &lt;i&gt;1&lt;/i&gt;
 <judged>True</judged>
 <judgement>WA</judgement>
 <n>1</n>
 <run-id>1</run-id>
 <solved>False</solved>
 <time>939.751724958</time>
 <timestamp>1265336078.01</timestamp>
 </run>

;i: test number
;judged:
;judgement: Judgement acronym
;n: Total number of runs
;run-id:
;solved:
;time:
;timestamp:

==== Finalized Event ====

The finalized event is sent when the contest is finalized. 

Format:

{| class="wikitable"
! Name !! Description !! Child Element/Attribute !! Type
|-
|timestamp || Wall-clock time when the contest was finalized || element || xsd:decimal
|-
|last-gold|| The last place to receive a gold (should always be 4 for a [[Contest_Control_System#Scoring_Data_Generation|compliant system]]) || element || xsd:int
|-
|last-silver|| The last place to receive a silver (should always be 8 for a [[Contest_Control_System#Scoring_Data_Generation|compliant system]])|| element || xsd:int
|-
|last-bronze|| The last place to receive a bronze (should often be 12 but could very possibly be something else)|| element || xsd:int
|-
|comment|| A comment provided during the finalization || element || xsd:string
|}

Example:

 <finalized>
   <timestamp>1265336078.01</timestamp>
   <last-gold>4</last-gold>
   <last-silver>8</last-silver>
   <last-bronze>12</last-bronze>
   <comment>Finalized by John Doe and Jane Doe</comment>
 </finalized>

== Change List ==

The following is a list of behavioural changes from the 2014 event feed:

* Removed <started> boolean from <info>
* Removed <id> from <language>
* Renamed
