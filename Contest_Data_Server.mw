== Introduction ==

This page is DRAFT!!


The Contest Data Server (or CDS) is a single place for clients of any kind to request contest data via URL. This document contains information on what services (URLs) are available from the CDS, what content is returned, and links to specs for the format of some files.

Internally, the CDS may be implemented using multiple servers, pull data from the contest control system or other servers, or even aggregate. From a client perspective the important thing is that ''none of this matters'': the CDS is a one-stop shop for all contest information. Clients only need to know how to connect to URLs.

Notes:
* URLs below are in the format "http://cds/xyz". The exact hostname or IP address for 'cds' each year will be provided once the network is setup onsite.
* Some of the URL contain a year (e.g. http://cds/2014/xyz") to indicate that these are temporary formats that may change over the coming year.
* Invalid URLs, parameters (e.g. teamNum=500), or missing images will return the standard HTTP status code 404.

== Access & Authentication ==

Requests for access to the CDS must be made through the world finals technical director (John Clevenger) and must include contact information for during the finals. Many of the services will contain private information, so each client will be given a unique user id & password to connect to the CDS. Access to all secure services is via HTTPS. (HTTP access will be redirected)

To simplify security, access is provided via roles that each have access to different content. The defined roles are as follows:

* Internal = Internal users (typically on the contest network) that have access to all content.
* Trusted = Clients that have access to some contest information that should not be shared publically.
* Public = All other users that have access only to public information.

Services will be marked with what access role is required.

== Services ==

The following section describes all the services that are available through the CDS.

=== Contest Configuration ===

 <nowiki>URL: http://cds/config/contest.yaml
URL: http://cds/config/problemset.yaml</nowiki>

Access to two of the contest configuration files as specified in the CCS spec [[Contest Control System]].

=== Team Logos ===

 <nowiki>URL: http://cds/images/logo/[teamNum]</nowiki>

Returns a png image 600x600 or smaller of the given team's logo.

=== Team Images ===

 <nowiki>URL: http://cds/images/team/[teamNum]</nowiki>

Returns a full HD jpeg image (1920x1080) of the given team, typically taken during registration.

=== Contest Control System Event Feed ===

 <nowiki>URL: http://cds/2014/events</nowiki>

Returns the 2014 event feed as generated by the CCS: [[Event Feed 2014]].

=== Contest Control System Event Feed Proposal ===

 <nowiki>URL: http://cds/proposed/events</nowiki>

Returns a modified event feed that will match the proposed future standard. TBD

=== Contest Control System JSON Scoreboard ===

 <nowiki>URL: http://cds/2014/standings</nowiki>

Returns a JSON scoreboard as defined here: [[JSON Scoreboard 2014]]

=== Team Webcam Stream ===

 <nowiki>URL: http://cds/video/camera/[teamNum]</nowiki>

Returns a video stream from the camera at the given team's workstation.

* Video container: FLV
* Video format: H.264

=== Team Desktop Stream ===

 <nowiki>URL: http://cds/video/screen/[teamNum]</nowiki>

Returns a video stream of the given team's desktop.

* Video container: FLV
* Video format: H.264
